<div class="container ranking-page py-5">
  <h2 class="text-center mb-5">üèÜ Classements des quizzes</h2>

  <!-- Flex container pour les cartes -->
  <div class="quiz-row">
    @for (quiz of allRankings; track quiz.quizId) {
      <div class="quiz-card p-3 shadow-sm rounded">

        <!-- Conteneur du titre et du nombre de joueurs -->
        <div class="header-container">
          <h3 class="quiz-title">{{ quiz.quizTitle }}</h3>
          <!-- Utilisation de la classe 'player-count' pour le style SCSS -->
          <span class="player-count">
            {{ quiz.uniquePlayerCount }} joueur(s)
          </span>
        </div>

        <!-- Mon score -->
        <div class="my-score fw-bold mb-2">
          ‚≠ê Mon score : <span class="fs-6">{{ quiz.myScore != null ? quiz.myScore : 0 }}</span>
        </div>

        <!-- Classement -->
        <div class="table-responsive ranking-table-container">
          <table class="table align-middle text-center mb-0 ranking-table">
            <thead class="table-dark">
            <tr>
              <th class="col-rank">#</th>
              <th class="text-start">Participant</th>
              <th class="col-score">Score</th>
            </tr>
            </thead>
            <tbody class="ranking-body">
              @for (score of quiz.ranking; track score.username; let i = $index) {
                <!-- Ajout de la classe 'ranked-row' pour le style z√©br√© et de 'top-rank' pour les 3 premiers -->
                <tr class="ranked-row {{ i < 3 ? 'top-rank' : '' }}">
                  <td>
                    <!-- Le badge est maintenant stylis√© par le SCSS pour les 3 premi√®res places -->
                    <span class="position-badge position-{{ i + 1 }}">
                      @switch (i) {
                        @case (0) { ü•á }
                        @case (1) { ü•à }
                        @case (2) { ü•â }
                        @default { {{ i + 1 }} }
                      }
                    </span>
                  </td>
                  <!-- attribut title ici pour l'info-bulle (tooltip) -->
                  <td class="fw-semibold text-start" title="{{ score.username }}">{{ score.username }}</td>
                  <td class="fw-bold">{{ score.score }}</td>
                </tr>
              }
            </tbody>
          </table>
        </div>

        @if (quiz.ranking.length === 0) {
          <div class="alert alert-warning mt-2">
            Aucun classement disponible pour ce quiz.
          </div>
        }
      </div>
    }
  </div>
</div>
