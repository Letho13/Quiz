<div class="container ranking-page py-5">
  <h2 class="text-center mb-5">üèÜ Classements des quizzes</h2>

  <!-- Flex container pour les cartes -->
  <div class="quiz-row">
    @for (quiz of allRankings; track quiz.quizId) {
      <div class="quiz-card p-3 shadow-sm rounded">

        <!-- Titre quiz + nb joueurs -->
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h3 class="quiz-title">{{ quiz.quizTitle }}</h3>
          <span class="badge bg-info fs-6 px-2 py-1">
            {{ quiz.ranking.length }} joueur(s)
          </span>
        </div>

        <!-- Mon score -->
        @if (quiz.myScore != null) {
          <div class="my-score alert alert-primary fw-bold text-center mb-2">
            ‚≠ê Mon score : <span class="fs-6">{{ quiz.myScore }}</span>
          </div>
        } @else {
          <div class="alert alert-secondary text-center mb-2">
            ‚≠ê Mon score : 0
          </div>
        }

        <!-- Classement -->
        <div class="table-responsive">
          <table class="table table-hover align-middle text-center mb-0">
            <thead class="table-dark">
            <tr>
              <th>#</th>
              <th>Participant</th>
              <th>Score</th>
            </tr>
            </thead>
            <tbody>
              @for (score of quiz.ranking; track score.username; let i = $index) {
                <tr>
                  <td>
                    <span class="position-badge">
                      @switch (i) {
                        @case (0) { ü•á }
                        @case (1) { ü•à }
                        @case (2) { ü•â }
                        @default { {{ i + 1 }} }
                      }
                    </span>
                  </td>
                  <td class="fw-semibold">{{ score.username }}</td>
                  <td class="fw-bold">{{ score.score }}</td>
                </tr>
              }
            </tbody>
          </table>
        </div>

        @if (quiz.ranking.length === 0) {
          <div class="alert alert-warning mt-2">
            Aucun classement disponible pour ce quiz.
          </div>
        }
      </div>
    }
  </div>
</div>
